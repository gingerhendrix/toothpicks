(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{12:function(t,n,e){},13:function(t,n,e){"use strict";e.r(n);var i,r=e(0),o=e.n(r),a=e(5),c=e.n(a),s=(e(12),e(1)),u=e(2),l=e(3),h=function(){function t(n,e){Object(u.a)(this,t),this.x=n,this.y=e}return Object(l.a)(t,[{key:"compare",value:function(t){var n=this.x-t.x;return 0===n?this.y-t.y:n}},{key:"equals",value:function(n){return!(!n||n.constructor!==t)&&(this.x===n.x&&this.y===n.y)}},{key:"toString",value:function(){return"[".concat(this.x,", ").concat(this.y,"]")}}]),t}(),f=function(){function t(){Object(u.a)(this,t),this.map=void 0,this.map={}}return Object(l.a)(t,[{key:"add",value:function(t){this.map[t.toString()]=!0}},{key:"addAll",value:function(t){var n=this;t.forEach(function(t){return n.add(t)})}},{key:"has",value:function(t){return this.map[t.toString()]}}]),t}();!function(t){t[t.horizontal=0]="horizontal",t[t.vertical=1]="vertical"}(i||(i={}));var v=function(){function t(n,e){Object(u.a)(this,t),this.center=n,this.orientation=e}return Object(l.a)(t,[{key:"ends",value:function(){return this.orientation===i.horizontal?[new h(this.center.x-1,this.center.y),new h(this.center.x+1,this.center.y)]:[new h(this.center.x,this.center.y-1),new h(this.center.x,this.center.y+1)]}},{key:"points",value:function(){var t=this.ends(),n=Object(s.a)(t,2),e=n[0],i=n[1];return[e,this.center,i]}}]),t}(),p=function(){function t(n,e){Object(u.a)(this,t),this.toothpicks=n,this.orientation=e}return Object(l.a)(t,[{key:"openEnds",value:function(){for(var t=this.toothpicks.flatMap(function(t){return t.ends()}).sort(function(t,n){return t.compare(n)}),n=[],e=0;e<t.length;e++)t[e].equals(t[e+1])?e++:n.push(t[e]);return n}}]),t}(),d=function(){function t(){Object(u.a)(this,t),this.points=void 0,this.generations=[],this.points=new f,this.initializeFirstGeneration()}return Object(l.a)(t,[{key:"buildNextGeneration",value:function(){var t=this,n=this.generations[this.generations.length-1],e=n.openEnds().filter(function(n){return!t.points.has(n)}),r=n.orientation===i.horizontal?i.vertical:i.horizontal,o=e.map(function(t){return new v(t,r)}),a=new p(o,r);this.points.addAll(this.lastGeneration().toothpicks.flatMap(function(t){return t.points()})),this.generations.push(a)}},{key:"lastGeneration",value:function(){return this.generations[this.generations.length-1]}},{key:"initializeFirstGeneration",value:function(){var t=new v(new h(0,0),i.vertical),n=new p([t],i.vertical);this.generations.push(n)}},{key:"debug",value:function(){console.log("Points",this.points),console.log("Generations",this.generations.map(function(t){return t.toothpicks}))}}]),t}(),g=function(t){var n=Object(s.a)(t.ends,2),e=n[0],i=n[1],r=t.current;return o.a.createElement("line",{x1:e.x,y1:e.y,x2:i.x,y2:i.y,style:{stroke:r?"rgb(0,0,255)":"rgb(0,255,0)",transition:"stroke 4s",strokeWidth:.5}})},m=o.a.memo(function(t){var n=t.generation,e=t.current,i=void 0!==e&&e;return o.a.createElement("g",null,n.toothpicks.map(function(t){return o.a.createElement(g,{ends:t.ends(),key:t.center.toString(),current:i})}))}),y=function(t){var n=t.pattern,e=t.size,i=t.scale;return o.a.createElement("svg",{width:e,height:e,style:{backgroundColor:"black"}},o.a.createElement("g",{transform:"translate(".concat(e/2,", ").concat(e/2,") scale(").concat(i,")")},n.generations.map(function(t,e){return o.a.createElement(m,{generation:t,key:e,current:e===n.generations.length-1})})))},w=function(){var t=Object(r.useMemo)(function(){var t=new d;return window.pattern=t,t},[]);(function(t,n){var e=Object(r.useState)(1),i=Object(s.a)(e,2),o=i[0],a=i[1],c=Object(r.useRef)(o);return Object(r.useEffect)(function(){var e=window.setTimeout(function e(){c.current=c.current+1,a(c.current),c.current<n&&window.setTimeout(e,t)},t);return function(){return window.clearTimeout(e)}},[t,n]),o})(100,1e3)>t.generations.length&&t.buildNextGeneration();var n=720/t.generations.length;return o.a.createElement(y,{pattern:t,size:800,scale:n})},k=function(){return o.a.createElement("div",{className:"App"},o.a.createElement("h1",null,"Toothpick Patterns"),o.a.createElement(w,null))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));c.a.render(o.a.createElement(k,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(t){t.unregister()})},6:function(t,n,e){t.exports=e(13)}},[[6,1,2]]]);
//# sourceMappingURL=main.bd555a20.chunk.js.map